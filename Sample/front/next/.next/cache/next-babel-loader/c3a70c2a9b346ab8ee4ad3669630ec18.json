{"ast":null,"code":"import config from \"@config\";\nimport Axios from \"axios\";\nimport { parseCookies } from \"nookies\";\nexport var axios = Axios.create({\n  baseURL: config.baseURL\n});\nexport var serverAxios = function serverAxios(_ref) {\n  var req = _ref.req,\n      res = _ref.res;\n  var axios = Axios.create({\n    baseURL: config.baseURL,\n    headers: {\n      authorization: \"Bearer \".concat(parseCookies({\n        req: req\n      }).nsid)\n    }\n  });\n  axios.interceptors.response.use(function (res) {\n    return res;\n  }, function (err) {\n    if ((err === null || err === void 0 ? void 0 : err.response.status) === 401) {\n      res.writeHead(302, {\n        Location: \"/signIn\"\n      });\n      res.end();\n    }\n\n    return Promise.reject(err);\n  });\n  return axios;\n};\nexport var axiosFetcher = function axiosFetcher(url) {\n  return axios.get(url).then(function (res) {\n    return res.data;\n  });\n};\nexport var cookieOption = {\n  maxAge: 3 * 24 * 3600,\n  // 쿠키 3일\n  path: \"/\",\n  httpOnly: true,\n  secure: false\n};\nexport var getThumbnail = function getThumbnail(fileId) {\n  return fileId ? \"\".concat(config.baseURL, \"/file/thumbnail/\").concat(fileId) : undefined;\n};","map":null,"metadata":{},"sourceType":"module"}